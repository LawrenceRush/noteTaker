<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Note Taker</title>
  <!-- jquery -->
  <script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
  <!-- Materialize -->
   <!-- Compiled and minified CSS -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

   <!--Import Google Icon Font-->
   <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

   <!-- Compiled and minified JavaScript -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <!-- Custom Css -->
  <link rel="stylesheet" href="assets/css/styles.css">
  <style>

  #nav-bar{
  padding-left: 20px;
  padding-right: 20px;
}

#container{
  width:60%;
  margin: 0 auto;
  
}

#add-button{
  margin-top: 25px;
  margin-bottom: 10px;
  text-align: end;
  padding-right: 35px;
}

.align-right{
  position: absolute;
  right: 0px;
  
}

.relative{
  position: relative;
}




  </style>
   
</head>

<body>
 
  
    <nav>
        <div id = "nav-bar" class="nav-wrapper">
          <div id = "page-title" class="brand-logo">Notes</div>
        </div>
      </nav>
      <div id = "add-button"><a href="/new-note" class="btn-floating btn-large waves-effect waves-light red" ><i class="material-icons">add</i></a></div>
  <div id = "sideBar" ></div>
  <div id = "container">
      <ul class="collapsible">
          <li>
            <div class="collapsible-header relative"><i class="material-icons">check_box_outline_blank</i>Create your first note!<i class="material-icons align-right hide-show">clear</i></div>
            <div class="collapsible-body"><span>C'mon, you know you want to.</span></div>
          </li>
      
        </ul>
  </div>
  
 
 
</body>



<script>
  //Initialize collapsible functionality on collapsibles. Don't mess with it. 
 $(document).ready(function(){
    $('.collapsible').collapsible();
  });

//Gets data for rendering on page.
function runNoteQuery() {
$.ajax({ url: "/api/notes", method: "GET" })
  .then(function(notesData) {
    //console.log(notesData);

    for (let i = 0; i<notesData.length; i++) {
     $(".collapsible").append(` <li>
            <div class="collapsible-header relative"><i class="material-icons">check_box_outline_blank</i>${notesData[i].title}<i class="material-icons align-right hide-show">clear</i></div>
            <div class="collapsible-body"><span>${notesData[i].content}</span></div>
          </li>`)
     }
     inititalHide();

    })
  }

  runNoteQuery();
 
  //Hover for buttons
function inititalHide(){
  // var buttons2hide = document.getElementsByClassName("hide-show");
  // console.log(buttons2hide)
  // for(let i =0; i<buttons2hide.length; i++){
  //   console.log("hide")
  // }
  $('.hide-show').hide()
}


$(document).on('mouseover', 'li', function(){
     $(this).find(".hide-show").toggle();
    
  });
$(document).on('mouseout', 'li', function(){
  $(this).find(".hide-show").toggle();
  });

  $(document).on('click', '.hide-show', function(){
  console.log("click working")
  });


</script>

</html>

